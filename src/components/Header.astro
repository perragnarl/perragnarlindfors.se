---
import Icon from "astro-icon";
import HeaderLink from "./HeaderLink.astro";
import Logo from "./Logo.astro";

const markdownPages = await Astro.glob("../pages/*.mdx");
console.log(markdownPages);

---

<header>
	<nav class="flex justify-between items-start p-8">
		<Logo />
		<div class="flex flex-col gap-y-3 items-end">
			<HeaderLink href="/">Home</HeaderLink>
			<HeaderLink href="/blog">Blog</HeaderLink>
			{
				markdownPages.map((page) => (
					<HeaderLink href={page.url}>
						{page.frontmatter.nav}
					</HeaderLink>
				))
			}
			<div
				class="flex gap-x-3 mt-2 pt-5 border-t border-color border-dashed border-opacity-20"
			>
				<HeaderLink href="https://github.com/perragnarl">
					<Icon name="ri:github-line" class="w-6 h-6" />
					<span class="sr-only">My GitHub</span>
				</HeaderLink>
				<HeaderLink href="https://www.linkedin.com/in/perragnarj/">
					<Icon name="ri:linkedin-box-line" class="w-6 h-6" />
					<span class="sr-only">My LinkedIn</span>
				</HeaderLink>
				<HeaderLink href="mailto:hej@perragnarlindfors.se">
					<Icon name="ri:mail-line" class="w-6 h-6" />
					<span class="sr-only">Send me an email</span>
				</HeaderLink>
			</div>
		</div>
	</nav>
</header>
