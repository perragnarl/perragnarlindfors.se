---
import { getCollection } from "astro:content";
import Posts from "../components/Posts.astro";
import Layout from "../layouts/Layout.astro";

const posts = (await getCollection("blog")).sort(
	(a, b) => b.data.pub.valueOf() - a.data.pub.valueOf(),
).slice(0, 3);
---

<Layout>
	<section>
		<h1 class="text-5xl font-bold">Hello, hi! ğŸ‘‹</h1>
		<p>
			I'm <strong>Per-Ragnar</strong>, a <strong>web developer</strong>
			 based in <strong>Sweden, SkÃ¥ne</strong>.
		</p>
		<p>
			Currently working at <a
				href="https://www.tietoevry.com/"
				target="_blank"
				rel="noopener noreferrer"
				class="text-primary hover:underline">Tietoevry</a
			> as a frontend architect and developer.
		</p>
	</section>
	{posts.length > 0 && (
		<section>
			<h2>Latest blog posts</h2>
			<Posts {posts} />
		</section>
	)}
</Layout>
